EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	10000 2900 10000 3050
$Comp
L power:GND #PWR09
U 1 1 5E65F2FA
P 10000 3050
F 0 "#PWR09" H 10000 2800 50  0001 C CNN
F 1 "GND" H 10005 2877 50  0000 C CNN
F 2 "" H 10000 3050 50  0001 C CNN
F 3 "" H 10000 3050 50  0001 C CNN
	1    10000 3050
	1    0    0    -1  
$EndComp
Wire Wire Line
	10600 2000 11100 2000
Wire Wire Line
	10600 2100 11100 2100
Text Label 10800 2000 0    50   ~ 0
UART_TX
Text Label 10800 2100 0    50   ~ 0
UART_RX
Text Label 10900 1600 0    50   ~ 0
SWIM
Wire Wire Line
	1600 6500 1600 6650
$Comp
L power:GND #PWR0102
U 1 1 5E69ED9A
P 1600 6650
F 0 "#PWR0102" H 1600 6400 50  0001 C CNN
F 1 "GND" H 1605 6477 50  0000 C CNN
F 2 "" H 1600 6650 50  0001 C CNN
F 3 "" H 1600 6650 50  0001 C CNN
	1    1600 6650
	1    0    0    -1  
$EndComp
Wire Wire Line
	10800 850  10600 850 
Wire Wire Line
	1300 6200 750  6200
Text Label 800  6200 0    50   ~ 0
5V_SUPPLY
Text Label 10600 850  0    50   ~ 0
5V_SUPPLY
Wire Wire Line
	10600 1800 11100 1800
Wire Wire Line
	10600 1600 11100 1600
Wire Wire Line
	10600 1700 11100 1700
$Comp
L Device:R R4
U 1 1 5E6E69A7
P 1450 4700
F 0 "R4" V 1550 4700 50  0000 C CNN
F 1 "R" V 1450 4700 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 1380 4700 50  0001 C CNN
F 3 "~" H 1450 4700 50  0001 C CNN
	1    1450 4700
	1    0    0    -1  
$EndComp
Text Label 1450 4500 0    50   ~ 0
5V_SUPPLY
Wire Wire Line
	1450 4550 1450 4350
$Comp
L power:GND #PWR0106
U 1 1 5E6E69AF
P 800 5150
F 0 "#PWR0106" H 800 4900 50  0001 C CNN
F 1 "GND" H 805 4977 50  0000 C CNN
F 2 "" H 800 5150 50  0001 C CNN
F 3 "" H 800 5150 50  0001 C CNN
	1    800  5150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 4950 1450 4850
Text Label 10600 1700 0    50   ~ 0
C_SENSOR
Wire Wire Line
	9400 2500 8900 2500
Text Notes 550  4200 0    118  ~ 0
Reset Circuit
Text Label 8900 2500 0    50   ~ 0
RESET
Text Label 10750 1800 0    50   ~ 0
V_SENSOR
Wire Wire Line
	1350 4950 1450 4950
Wire Wire Line
	1300 5150 1450 5150
Wire Wire Line
	1450 5150 1450 4950
Connection ~ 1450 4950
Wire Wire Line
	1450 5150 1750 5150
Connection ~ 1450 5150
Text Label 1550 5150 0    50   ~ 0
RESET
$Comp
L Device:R R5
U 1 1 5E77157A
P 6750 1900
F 0 "R5" V 6950 1900 50  0000 C CNN
F 1 "R" V 6850 1900 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 6680 1900 50  0001 C CNN
F 3 "~" H 6750 1900 50  0001 C CNN
	1    6750 1900
	0    1    1    0   
$EndComp
Wire Wire Line
	6900 1900 7250 1900
Wire Wire Line
	7250 1450 7250 1900
$Comp
L Device:R R6
U 1 1 5E77158A
P 7250 2050
F 0 "R6" V 7043 2050 50  0000 C CNN
F 1 "R" V 7134 2050 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 7180 2050 50  0001 C CNN
F 3 "~" H 7250 2050 50  0001 C CNN
	1    7250 2050
	1    0    0    -1  
$EndComp
Connection ~ 7250 1900
Wire Wire Line
	7250 1450 7150 1450
$Comp
L Device:C C5
U 1 1 5E77749C
P 7650 1500
F 0 "C5" H 7765 1546 50  0000 L CNN
F 1 "C" H 7765 1455 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 7688 1350 50  0001 C CNN
F 3 "~" H 7650 1500 50  0001 C CNN
	1    7650 1500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7650 1350 7650 1250
Wire Wire Line
	7150 1250 7650 1250
Wire Wire Line
	6600 1900 6500 1900
Wire Wire Line
	6500 1900 6500 1350
Wire Wire Line
	6500 1350 6550 1350
Text Notes 6450 2300 0    50   ~ 0
gain 160\n
Wire Wire Line
	7950 1350 7950 1250
Wire Wire Line
	7950 1250 7650 1250
Connection ~ 7650 1250
Wire Wire Line
	7950 1250 8450 1250
Connection ~ 7950 1250
$Comp
L Device:R R7
U 1 1 5E7AC3E6
P 7950 1500
F 0 "R7" V 8150 1500 50  0000 C CNN
F 1 "0.01Î©" V 8050 1500 50  0000 C CNN
F 2 "Resistor_SMD:R_1210_3225Metric" V 7880 1500 50  0001 C CNN
F 3 "~" H 7950 1500 50  0001 C CNN
	1    7950 1500
	1    0    0    1   
$EndComp
Wire Notes Line
	7850 1000 7850 2200
$Comp
L Amplifier_Operational:LM358 U1
U 3 1 5E6B06E4
P 7050 1350
F 0 "U1" H 6700 1500 50  0000 R CNN
F 1 "LM358" H 6800 1600 50  0000 R CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 7050 1350 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/lm2904-n.pdf" H 7050 1350 50  0001 C CNN
	3    7050 1350
	1    0    0    1   
$EndComp
Text Notes 6050 800  0    118  ~ 0
Current Sensor
$Comp
L Amplifier_Operational:LM358 U1
U 1 1 5E6AD63B
P 6850 1350
F 0 "U1" H 7000 1450 50  0000 C CNN
F 1 "LM358" H 6950 1550 50  0000 C CNN
F 2 "Package_SO:SOIC-8_3.9x4.9mm_P1.27mm" H 6850 1350 50  0001 C CNN
F 3 "http://www.ti.com/lit/ds/symlink/lm2904-n.pdf" H 6850 1350 50  0001 C CNN
	1    6850 1350
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0110
U 1 1 5E6D9B7A
P 6950 1050
F 0 "#PWR0110" H 6950 800 50  0001 C CNN
F 1 "GND" H 6955 877 50  0000 C CNN
F 2 "" H 6950 1050 50  0001 C CNN
F 3 "" H 6950 1050 50  0001 C CNN
	1    6950 1050
	1    0    0    1   
$EndComp
Wire Wire Line
	3750 7000 3750 7050
$Comp
L Device:R R8
U 1 1 5E6F4EDB
P 3900 7000
F 0 "R8" V 3693 7000 50  0000 C CNN
F 1 "R" V 3784 7000 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3830 7000 50  0001 C CNN
F 3 "~" H 3900 7000 50  0001 C CNN
	1    3900 7000
	0    -1   -1   0   
$EndComp
Text Label 5000 5900 0    50   ~ 0
TX_in
Wire Wire Line
	4100 6100 4050 6100
Text Label 3900 6100 2    50   ~ 0
UART_RX
Wire Wire Line
	4100 7000 4050 7000
$Comp
L power:GND #PWR0101
U 1 1 5E691B2E
P 3750 7050
F 0 "#PWR0101" H 3750 6800 50  0001 C CNN
F 1 "GND" H 3755 6877 50  0000 C CNN
F 2 "" H 3750 7050 50  0001 C CNN
F 3 "" H 3750 7050 50  0001 C CNN
	1    3750 7050
	1    0    0    -1  
$EndComp
Wire Wire Line
	3400 6800 4100 6800
Text Label 3600 6800 0    50   ~ 0
UART_TX
Text Notes 4000 5300 0    50   ~ 0
Different Power Domain
Text Notes 3850 5450 0    50   ~ 0
LDO 5V
Text Notes 4700 5450 0    50   ~ 0
External 5V
Wire Wire Line
	4050 6400 4050 6450
$Comp
L Device:R R9
U 1 1 5E70C434
P 4050 6250
F 0 "R9" V 3843 6250 50  0000 C CNN
F 1 "R" V 3934 6250 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3980 6250 50  0001 C CNN
F 3 "~" H 4050 6250 50  0001 C CNN
	1    4050 6250
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0105
U 1 1 5E70C43B
P 4050 6450
F 0 "#PWR0105" H 4050 6200 50  0001 C CNN
F 1 "GND" H 4055 6277 50  0000 C CNN
F 2 "" H 4050 6450 50  0001 C CNN
F 3 "" H 4050 6450 50  0001 C CNN
	1    4050 6450
	1    0    0    -1  
$EndComp
Connection ~ 4050 6100
Wire Wire Line
	3300 6100 4050 6100
Wire Wire Line
	5500 6250 5500 6300
Wire Wire Line
	4750 7000 4700 7000
$Comp
L Device:R R11
U 1 1 5E71835A
P 4900 7000
F 0 "R11" V 4693 7000 50  0000 C CNN
F 1 "1K" V 4784 7000 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 4830 7000 50  0001 C CNN
F 3 "~" H 4900 7000 50  0001 C CNN
	1    4900 7000
	0    -1   -1   0   
$EndComp
Text Label 5450 7000 0    50   ~ 0
RX_in
$Comp
L Device:C C7
U 1 1 5E72791C
P 5500 6450
F 0 "C7" H 5615 6541 50  0000 L CNN
F 1 "470uF" H 5615 6450 50  0000 L CNN
F 2 "Capacitor_SMD:CP_Elec_6.3x7.7" H 5538 6300 50  0001 C CNN
F 3 "~" H 5500 6450 50  0001 C CNN
F 4 "6.3x7.7mm" H 5615 6359 50  0000 L CNN "size"
	1    5500 6450
	1    0    0    -1  
$EndComp
Wire Wire Line
	4700 6800 4750 6800
Wire Wire Line
	4750 6800 4750 6600
Wire Wire Line
	4750 6600 5100 6600
Wire Wire Line
	5400 6900 5100 6900
Text Label 5100 6900 0    50   ~ 0
EXT_GND
Wire Wire Line
	5150 6400 5150 6100
Text Label 5150 6100 3    50   ~ 0
EXT_GND
$Comp
L Device:R R10
U 1 1 5E762806
P 4850 6100
F 0 "R10" V 4643 6100 50  0000 C CNN
F 1 "R" V 4734 6100 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 4780 6100 50  0001 C CNN
F 3 "~" H 4850 6100 50  0001 C CNN
	1    4850 6100
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5150 6100 5000 6100
Wire Wire Line
	5050 7000 6150 7000
Wire Wire Line
	6150 5900 6150 6450
Text Label 4050 5900 2    50   ~ 0
5V_SUPPLY
$Comp
L Custom_Library:EL357N-C U8
U 1 1 5E796BCA
P 4400 6650
F 0 "U8" H 4400 6725 50  0000 C CNN
F 1 "EL357N-C" H 4400 6634 50  0000 C CNN
F 2 "Package_SO:SOP-4_3.8x4.1mm_P2.54mm" H 4400 6650 50  0001 C CNN
F 3 "" H 4400 6650 50  0001 C CNN
	1    4400 6650
	1    0    0    -1  
$EndComp
Wire Wire Line
	3600 5900 4050 5900
$Comp
L Custom_Library:EL357N-C U7
U 1 1 5E795D5E
P 4400 5750
F 0 "U7" H 4400 5825 50  0000 C CNN
F 1 "EL357N-C" H 4400 5734 50  0000 C CNN
F 2 "Package_SO:SOP-4_3.8x4.1mm_P2.54mm" H 4400 5750 50  0001 C CNN
F 3 "" H 4400 5750 50  0001 C CNN
	1    4400 5750
	-1   0    0    -1  
$EndComp
Wire Wire Line
	800  5150 950  5150
Wire Wire Line
	950  5150 1000 5150
Connection ~ 950  5150
Wire Wire Line
	950  4950 950  5150
$Comp
L Custom_Library:tact_sw U5
U 1 1 5E7C7DF7
P 1150 4800
F 0 "U5" H 1150 4935 50  0000 C CNN
F 1 "tact_sw" H 1150 4844 50  0000 C CNN
F 2 "Button_Switch_SMD:SW_SPST_SKQG_WithStem" H 1150 4800 50  0001 C CNN
F 3 "" H 1150 4800 50  0001 C CNN
	1    1150 4800
	1    0    0    -1  
$EndComp
Wire Wire Line
	5100 6600 5500 6600
Connection ~ 5100 6600
$Comp
L power:GND #PWR0111
U 1 1 5E74824C
P 4450 1800
F 0 "#PWR0111" H 4450 1550 50  0001 C CNN
F 1 "GND" H 4455 1627 50  0000 C CNN
F 2 "" H 4450 1800 50  0001 C CNN
F 3 "" H 4450 1800 50  0001 C CNN
	1    4450 1800
	1    0    0    -1  
$EndComp
$Comp
L Custom_Library:PH2.0_horizontal U10
U 1 1 5E74E69C
P 9900 5300
F 0 "U10" H 10128 5151 50  0000 L CNN
F 1 "PH2.0_horizontal" H 10128 5060 50  0000 L CNN
F 2 "Connector_JST:JST_PH_S2B-PH-SM4-TB_1x02-1MP_P2.00mm_Horizontal" H 9900 5300 50  0001 C CNN
F 3 "" H 9900 5300 50  0001 C CNN
	1    9900 5300
	1    0    0    -1  
$EndComp
$Comp
L Custom_Library:PH2.0_horizontal U11
U 1 1 5E74F107
P 9900 5800
F 0 "U11" H 10128 5651 50  0000 L CNN
F 1 "PH2.0_horizontal" H 10128 5560 50  0000 L CNN
F 2 "Connector_JST:JST_PH_S2B-PH-SM4-TB_1x02-1MP_P2.00mm_Horizontal" H 9900 5800 50  0001 C CNN
F 3 "" H 9900 5800 50  0001 C CNN
	1    9900 5800
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 6450 6500 6450
Connection ~ 6150 6450
Wire Wire Line
	6150 6450 6150 7000
Text Label 6250 6450 0    50   ~ 0
Tx_Rx
Wire Wire Line
	9300 5400 9600 5400
Text Label 9400 5400 0    50   ~ 0
Tx_Rx
Text Label 9300 6050 0    50   ~ 0
EXT_GND
Wire Wire Line
	9300 6050 9650 6050
Wire Notes Line
	4400 5350 4400 7400
Text Notes 2950 5050 0    118  ~ 0
opto_isolator for UART
Wire Wire Line
	9650 5900 9200 5900
Text Label 9200 5900 0    50   ~ 0
5V_EXT
Text Notes 9200 4600 0    118  ~ 0
Connection to STM32
Text Notes 500  5750 0    118  ~ 0
Low drop-out regulator
Text Notes 9150 650  0    118  ~ 0
Microcontroller STM8
Wire Wire Line
	4700 5900 5500 5900
$Comp
L Diode:1N5819 D1
U 1 1 5E7897CA
P 5500 6100
F 0 "D1" V 5546 6021 50  0000 R CNN
F 1 "1N5819HW" V 5455 6021 50  0000 R CNN
F 2 "Diode_SMD:D_SOD-123" H 5500 5925 50  0001 C CNN
F 3 "http://www.vishay.com/docs/88525/1n5817.pdf" H 5500 6100 50  0001 C CNN
	1    5500 6100
	0    -1   -1   0   
$EndComp
Wire Wire Line
	5500 5950 5500 5900
Connection ~ 5500 5900
Wire Wire Line
	5500 5900 6150 5900
$Comp
L Device:C C4
U 1 1 5E6FA49B
P 1150 5150
F 0 "C4" V 1300 5250 50  0000 C CNN
F 1 "C" V 1300 5150 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 1188 5000 50  0001 C CNN
F 3 "~" H 1150 5150 50  0001 C CNN
	1    1150 5150
	0    1    1    0   
$EndComp
$Comp
L Device:C C6
U 1 1 5E75411E
P 5100 6750
F 0 "C6" V 5250 6850 50  0000 C CNN
F 1 "C" V 5250 6750 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 5138 6600 50  0001 C CNN
F 3 "~" H 5100 6750 50  0001 C CNN
	1    5100 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	9650 5550 9600 5550
Wire Wire Line
	9600 5550 9600 5400
Connection ~ 9600 5400
Wire Wire Line
	9600 5400 9650 5400
Wire Wire Line
	9550 4950 9550 5100
$Comp
L power:GND #PWR02
U 1 1 5E76470F
P 9550 5100
F 0 "#PWR02" H 9550 4850 50  0001 C CNN
F 1 "GND" H 9555 4927 50  0000 C CNN
F 2 "" H 9550 5100 50  0001 C CNN
F 3 "" H 9550 5100 50  0001 C CNN
	1    9550 5100
	1    0    0    -1  
$EndComp
Wire Wire Line
	9650 4950 9550 4950
Wire Wire Line
	1900 6200 2000 6200
Text Label 2000 6200 0    50   ~ 0
12V_INPUT
Wire Wire Line
	9650 4800 9200 4800
Text Label 9200 4800 0    50   ~ 0
12V_INPUT
Wire Wire Line
	6950 1650 6950 1750
Text Label 6950 1750 0    50   ~ 0
12V_INPUT
Text Notes 6150 4500 0    118  ~ 0
Temperature sensor
Wire Wire Line
	7800 4800 7250 4800
Text Label 7300 4800 0    50   ~ 0
5V_SUPPLY
$Comp
L Device:R R12
U 1 1 5E778979
P 7250 5800
F 0 "R12" V 7043 5800 50  0000 C CNN
F 1 "R" V 7134 5800 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 7180 5800 50  0001 C CNN
F 3 "~" H 7250 5800 50  0001 C CNN
	1    7250 5800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR01
U 1 1 5E784F52
P 7250 6200
F 0 "#PWR01" H 7250 5950 50  0001 C CNN
F 1 "GND" H 7255 6027 50  0000 C CNN
F 2 "" H 7250 6200 50  0001 C CNN
F 3 "" H 7250 6200 50  0001 C CNN
	1    7250 6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 5350 7750 5350
Text Label 7250 5350 0    50   ~ 0
TEMP_SENSOR
$Comp
L Custom_Library:PH2.0_horizontal U9
U 1 1 5E74D8D5
P 9900 4700
F 0 "U9" H 10128 4551 50  0000 L CNN
F 1 "PH2.0_horizontal" H 10128 4460 50  0000 L CNN
F 2 "Connector_JST:JST_PH_S2B-PH-SM4-TB_1x02-1MP_P2.00mm_Horizontal" H 9900 4700 50  0001 C CNN
F 3 "" H 9900 4700 50  0001 C CNN
	1    9900 4700
	1    0    0    -1  
$EndComp
$Comp
L Custom_Library:PH2.0_horizontal U12
U 1 1 5E79BBBF
P 7650 4900
F 0 "U12" H 7878 4751 50  0000 L CNN
F 1 "PH2.0_horizontal" H 7878 4660 50  0000 L CNN
F 2 "Connector_JST:JST_PH_S2B-PH-SM4-TB_1x02-1MP_P2.00mm_Horizontal" H 7650 4900 50  0001 C CNN
F 3 "" H 7650 4900 50  0001 C CNN
	1    7650 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 5000 7400 5000
Wire Wire Line
	7400 5150 7250 5150
Text Notes 7500 4900 0    50   ~ 0
to Thermistor
$Comp
L Regulator_Linear:AMS1117-5.0 U6
U 1 1 5E7C43A9
P 1600 6200
F 0 "U6" H 1600 6442 50  0000 C CNN
F 1 "AMS1117-5.0" H 1600 6351 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-223-3_TabPin2" H 1600 6400 50  0001 C CNN
F 3 "http://www.advanced-monolithic.com/pdf/ds1117.pdf" H 1700 5950 50  0001 C CNN
	1    1600 6200
	-1   0    0    -1  
$EndComp
Connection ~ 7250 5350
Text Label 9700 4250 0    50   ~ 0
LED-
Text Label 9700 3950 0    50   ~ 0
LED+
Wire Wire Line
	9700 3950 10100 3950
Wire Wire Line
	9700 4250 10100 4250
Text Label 8050 1250 0    50   ~ 0
LED_SENSE
Text Notes 8350 3600 0    118  ~ 0
Voltage and current for sensor
Text Notes 4450 2800 0    118  ~ 0
Voltage Sensor
Text Label 4750 3050 0    50   ~ 0
LED+
Wire Wire Line
	4750 3050 5150 3050
$Comp
L Device:R R14
U 1 1 5E90AFB8
P 4750 3900
F 0 "R14" V 4543 3900 50  0000 C CNN
F 1 "R" V 4634 3900 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 4680 3900 50  0001 C CNN
F 3 "~" H 4750 3900 50  0001 C CNN
	1    4750 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4750 3500 5250 3500
Text Label 4900 3500 0    50   ~ 0
V_SENSOR
Wire Wire Line
	4750 3350 4750 3500
Connection ~ 4750 3500
Wire Wire Line
	4750 3500 4750 3750
Text Label 4750 4450 1    50   ~ 0
LED-
Wire Wire Line
	4750 4450 4750 4050
Text Notes 5250 3050 0    50   ~ 0
max 80V
Text Notes 10300 3850 0    50   ~ 0
max 80V
Text Notes 5300 3500 0    50   ~ 0
(0 to 5V)\n
Wire Wire Line
	4400 4050 4750 4050
Connection ~ 4750 4050
Wire Wire Line
	4750 3500 4400 3500
Wire Wire Line
	4400 3500 4400 3750
Text Label 5550 1350 0    50   ~ 0
C_SENSOR
Connection ~ 6500 1350
$Comp
L Custom_Library:PinSocket_1x4 U13
U 1 1 5E9927B0
P 7200 4450
F 0 "U13" H 7400 3500 50  0000 R CNN
F 1 "PinSocket_1x4" H 7400 3600 50  0000 R CNN
F 2 "Custom_footprint_lib:custom_pinsocket_1x04_p2.54" H 7200 4450 50  0001 C CNN
F 3 "" H 7200 4450 50  0001 C CNN
	1    7200 4450
	-1   0    0    1   
$EndComp
Wire Wire Line
	6900 4050 6500 4050
Wire Wire Line
	6900 3750 6500 3750
Text Label 6500 4050 0    50   ~ 0
SWIM
Text Label 6500 3750 0    50   ~ 0
RESET
$Comp
L power:GND #PWR0103
U 1 1 5E9FD433
P 6550 3900
F 0 "#PWR0103" H 6550 3650 50  0001 C CNN
F 1 "GND" H 6555 3727 50  0000 C CNN
F 2 "" H 6550 3900 50  0001 C CNN
F 3 "" H 6550 3900 50  0001 C CNN
	1    6550 3900
	0    1    1    0   
$EndComp
Wire Wire Line
	6550 3900 6900 3900
Text Label 6900 4200 2    50   ~ 0
5V_SUPPLY
Wire Wire Line
	6500 4200 6900 4200
$Comp
L Device:C C10
U 1 1 5EA22692
P 10600 1000
F 0 "C10" H 10715 1046 50  0000 L CNN
F 1 "C" H 10715 955 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 10638 850 50  0001 C CNN
F 3 "~" H 10600 1000 50  0001 C CNN
	1    10600 1000
	1    0    0    -1  
$EndComp
$Comp
L MCU_ST_STM8:STM8S003F3P U3
U 1 1 5E65DF3F
P 10000 1900
F 0 "U3" H 10150 1550 50  0000 C CNN
F 1 "STM8S003F3P" H 10150 1450 50  0000 C CNN
F 2 "Package_SO:TSSOP-20_4.4x6.5mm_P0.65mm" H 10050 3000 50  0001 L CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00024550.pdf" H 9950 1500 50  0001 C CNN
	1    10000 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	10600 850  10000 850 
Wire Wire Line
	10000 850  10000 900 
Connection ~ 10600 850 
$Comp
L Device:C C9
U 1 1 5EA39C76
P 4050 5750
F 0 "C9" V 4200 5850 50  0000 C CNN
F 1 "C" V 4200 5750 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 4088 5600 50  0001 C CNN
F 3 "~" H 4050 5750 50  0001 C CNN
	1    4050 5750
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0104
U 1 1 5EA3F7D4
P 3950 5600
F 0 "#PWR0104" H 3950 5350 50  0001 C CNN
F 1 "GND" H 3955 5427 50  0000 C CNN
F 2 "" H 3950 5600 50  0001 C CNN
F 3 "" H 3950 5600 50  0001 C CNN
	1    3950 5600
	0    1    1    0   
$EndComp
Wire Wire Line
	3950 5600 4050 5600
Wire Wire Line
	2000 6350 2000 6200
$Comp
L Device:C C8
U 1 1 5EA4B159
P 2000 6500
F 0 "C8" V 2150 6600 50  0000 C CNN
F 1 "C" V 2150 6500 50  0000 C CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 2038 6350 50  0001 C CNN
F 3 "~" H 2000 6500 50  0001 C CNN
	1    2000 6500
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0107
U 1 1 5EA50995
P 2000 6750
F 0 "#PWR0107" H 2000 6500 50  0001 C CNN
F 1 "GND" H 2005 6577 50  0000 C CNN
F 2 "" H 2000 6750 50  0001 C CNN
F 3 "" H 2000 6750 50  0001 C CNN
	1    2000 6750
	1    0    0    -1  
$EndComp
Wire Wire Line
	2000 6650 2000 6750
Wire Wire Line
	8900 2000 9400 2000
Text Label 8900 2000 0    50   ~ 0
TEMP_SENSOR
$Comp
L Diode:BZX84Cxx D2
U 1 1 5E80DF83
P 6100 1500
F 0 "D2" V 6054 1579 50  0000 L CNN
F 1 "BZX84Cxx" V 6145 1579 50  0000 L CNN
F 2 "Diode_SMD:D_SOT-23_ANK" H 6100 1325 50  0001 C CNN
F 3 "https://diotec.com/tl_files/diotec/files/pdf/datasheets/bzx84c2v4.pdf" H 6100 1500 50  0001 C CNN
	1    6100 1500
	0    1    1    0   
$EndComp
Wire Wire Line
	5550 1350 6100 1350
Wire Wire Line
	6100 1350 6500 1350
$Comp
L Diode:BZX84Cxx D3
U 1 1 5E8143F1
P 4400 3900
F 0 "D3" V 4350 3600 50  0000 L CNN
F 1 "BZX84Cxx" V 4450 3450 50  0000 L CNN
F 2 "Diode_SMD:D_SOT-23_ANK" H 4400 3725 50  0001 C CNN
F 3 "https://diotec.com/tl_files/diotec/files/pdf/datasheets/bzx84c2v4.pdf" H 4400 3900 50  0001 C CNN
	1    4400 3900
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR0108
U 1 1 5E7CE938
P 7400 3300
F 0 "#PWR0108" H 7400 3050 50  0001 C CNN
F 1 "GND" H 7405 3127 50  0000 C CNN
F 2 "" H 7400 3300 50  0001 C CNN
F 3 "" H 7400 3300 50  0001 C CNN
	1    7400 3300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	6600 3300 6950 3300
Text Label 6600 3300 0    50   ~ 0
LED-
$Comp
L power:GND #PWR0109
U 1 1 5E834D03
P 10600 1200
F 0 "#PWR0109" H 10600 950 50  0001 C CNN
F 1 "GND" H 10605 1027 50  0000 C CNN
F 2 "" H 10600 1200 50  0001 C CNN
F 3 "" H 10600 1200 50  0001 C CNN
	1    10600 1200
	1    0    0    -1  
$EndComp
Wire Wire Line
	10600 1150 10600 1200
Connection ~ 2000 6200
Wire Wire Line
	2000 6200 2150 6200
Connection ~ 4050 5900
Wire Wire Line
	4050 5900 4100 5900
Wire Wire Line
	7350 3300 7400 3300
$Comp
L Jumper:Jumper_2_Open JP1
U 1 1 5E84B2E4
P 7150 3300
F 0 "JP1" H 7150 3535 50  0000 C CNN
F 1 "Jumper_2_Open" H 7150 3444 50  0000 C CNN
F 2 "Jumper:SolderJumper-2_P1.3mm_Open_TrianglePad1.0x1.5mm" H 7150 3300 50  0001 C CNN
F 3 "~" H 7150 3300 50  0001 C CNN
	1    7150 3300
	1    0    0    -1  
$EndComp
Wire Wire Line
	8250 1800 7950 1800
Text Label 8000 1800 0    50   ~ 0
LED-
Wire Wire Line
	7950 1650 7950 1800
$Comp
L power:GND #PWR?
U 1 1 5FB5CA1C
P 7950 1950
F 0 "#PWR?" H 7950 1700 50  0001 C CNN
F 1 "GND" H 7955 1777 50  0000 C CNN
F 2 "" H 7950 1950 50  0001 C CNN
F 3 "" H 7950 1950 50  0001 C CNN
	1    7950 1950
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 1950 7950 1800
Connection ~ 7950 1800
$Comp
L power:GND #PWR?
U 1 1 5FB7DBB9
P 7650 1800
F 0 "#PWR?" H 7650 1550 50  0001 C CNN
F 1 "GND" H 7655 1627 50  0000 C CNN
F 2 "" H 7650 1800 50  0001 C CNN
F 3 "" H 7650 1800 50  0001 C CNN
	1    7650 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	7650 1800 7650 1650
$Comp
L power:GND #PWR?
U 1 1 5FB87DEB
P 7250 2350
F 0 "#PWR?" H 7250 2100 50  0001 C CNN
F 1 "GND" H 7255 2177 50  0000 C CNN
F 2 "" H 7250 2350 50  0001 C CNN
F 3 "" H 7250 2350 50  0001 C CNN
	1    7250 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 2350 7250 2200
$Comp
L power:GND #PWR?
U 1 1 5FB918D1
P 6100 1800
F 0 "#PWR?" H 6100 1550 50  0001 C CNN
F 1 "GND" H 6105 1627 50  0000 C CNN
F 2 "" H 6100 1800 50  0001 C CNN
F 3 "" H 6100 1800 50  0001 C CNN
	1    6100 1800
	1    0    0    -1  
$EndComp
Wire Wire Line
	6100 1800 6100 1650
$Comp
L Device:R R13
U 1 1 5E8FADD1
P 4750 3200
F 0 "R13" V 4543 3200 50  0000 C CNN
F 1 "R" V 4634 3200 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 4680 3200 50  0001 C CNN
F 3 "~" H 4750 3200 50  0001 C CNN
	1    4750 3200
	1    0    0    -1  
$EndComp
Text Notes 6400 2900 0    118  ~ 0
Swim Debugging port
$Comp
L Diode:BZX84Cxx D?
U 1 1 5FC14E97
P 2600 1150
F 0 "D?" V 2554 1229 50  0000 L CNN
F 1 "BZX84Cxx" V 2645 1229 50  0000 L CNN
F 2 "Diode_SMD:D_SOT-23_ANK" H 2600 975 50  0001 C CNN
F 3 "https://diotec.com/tl_files/diotec/files/pdf/datasheets/bzx84c2v4.pdf" H 2600 1150 50  0001 C CNN
	1    2600 1150
	0    1    1    0   
$EndComp
Wire Wire Line
	2600 1000 2600 950 
$Comp
L Device:Q_NMOS_GSD Q?
U 1 1 5FC68FB7
P 3650 1550
F 0 "Q?" V 3992 1550 50  0000 C CNN
F 1 "Q_NMOS_GSD" V 3901 1550 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 3850 1650 50  0001 C CNN
F 3 "~" H 3650 1550 50  0001 C CNN
	1    3650 1550
	0    1    -1   0   
$EndComp
Wire Wire Line
	2600 1450 2600 1300
$Comp
L Device:C C?
U 1 1 5FC76042
P 4150 1150
F 0 "C?" H 4265 1196 50  0000 L CNN
F 1 "C" H 4265 1105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric" H 4188 1000 50  0001 C CNN
F 3 "~" H 4150 1150 50  0001 C CNN
	1    4150 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 1450 4150 1300
Wire Wire Line
	3850 1450 4150 1450
$Comp
L Device:R R?
U 1 1 5FC883B3
P 3000 1750
F 0 "R?" V 3200 1750 50  0000 C CNN
F 1 "R" V 3100 1750 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2930 1750 50  0001 C CNN
F 3 "~" H 3000 1750 50  0001 C CNN
	1    3000 1750
	1    0    0    -1  
$EndComp
$Comp
L Device:Q_NMOS_GSD Q?
U 1 1 5FCCB8F0
P 2900 2300
F 0 "Q?" H 3104 2254 50  0000 L CNN
F 1 "Q_NMOS_GSD" H 3104 2345 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 3100 2400 50  0001 C CNN
F 3 "~" H 2900 2300 50  0001 C CNN
	1    2900 2300
	1    0    0    1   
$EndComp
Wire Wire Line
	2700 2300 2150 2300
Text Label 2200 2300 0    50   ~ 0
PWM_OUT
Wire Wire Line
	3000 1900 3000 1950
Wire Wire Line
	3650 1750 3650 1950
Wire Wire Line
	3650 1950 3000 1950
Connection ~ 3000 1950
Wire Wire Line
	3000 1950 3000 2050
$Comp
L Diode:BZX84Cxx D?
U 1 1 5FD25716
P 3650 2050
F 0 "D?" V 3800 1900 50  0000 L CNN
F 1 "BZX84Cxx" V 3850 1650 50  0000 L CNN
F 2 "Diode_SMD:D_SOT-23_ANK" H 3650 1875 50  0001 C CNN
F 3 "https://diotec.com/tl_files/diotec/files/pdf/datasheets/bzx84c2v4.pdf" H 3650 2050 50  0001 C CNN
	1    3650 2050
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 2050 3000 2050
Connection ~ 3000 2050
Wire Wire Line
	3000 2050 3000 2100
Wire Wire Line
	3800 2050 4150 2050
Wire Wire Line
	4150 2050 4150 1450
Connection ~ 4150 1450
Wire Wire Line
	4150 1000 4150 950 
Connection ~ 6100 1350
$Comp
L Custom_Library:SMD_2062 U4
U 1 1 5E73AC04
P 4750 1300
F 0 "U4" H 4600 1400 50  0000 L CNN
F 1 "SMD_2062" H 4500 1300 50  0000 L CNN
F 2 "Custom_footprint_lib:LEDSMD2062" H 4750 1300 50  0001 C CNN
F 3 "" H 4750 1300 50  0001 C CNN
	1    4750 1300
	-1   0    0    -1  
$EndComp
Wire Wire Line
	4500 1450 4150 1450
Wire Wire Line
	4500 1600 4450 1600
Wire Wire Line
	4450 1600 4450 1800
$Comp
L power:GND #PWR?
U 1 1 5FD96681
P 3000 2500
F 0 "#PWR?" H 3000 2250 50  0001 C CNN
F 1 "GND" H 3005 2327 50  0000 C CNN
F 2 "" H 3000 2500 50  0001 C CNN
F 3 "" H 3000 2500 50  0001 C CNN
	1    3000 2500
	1    0    0    -1  
$EndComp
Wire Wire Line
	7250 4800 7250 5000
Wire Wire Line
	7250 5150 7250 5350
Wire Wire Line
	7250 5350 7250 5650
Wire Wire Line
	7250 5950 7250 6200
Wire Wire Line
	9400 1900 8850 1900
Text Label 8900 1900 0    50   ~ 0
PWM_OUT
$Comp
L Custom_Library:SMD2063 U?
U 1 1 5FC38ED5
P 10450 3750
F 0 "U?" H 10181 3446 50  0000 R CNN
F 1 "SMD2063" H 10181 3355 50  0000 R CNN
F 2 "Custom_footprint_lib:SMD2063" H 10450 3750 50  0001 C CNN
F 3 "" H 10450 3750 50  0001 C CNN
	1    10450 3750
	-1   0    0    -1  
$EndComp
Wire Wire Line
	9600 4100 10100 4100
Text Label 9700 4100 0    50   ~ 0
LED_SENSE
Text Label 750  1300 0    50   ~ 0
12V_INPUT
Wire Wire Line
	2600 1450 3450 1450
Wire Wire Line
	3000 1600 3000 950 
Wire Wire Line
	2600 950  3000 950 
Connection ~ 3000 950 
Wire Wire Line
	3000 950  4150 950 
$Comp
L Device:D D?
U 1 1 5FCD26EB
P 1150 1300
F 0 "D?" H 1150 1516 50  0000 C CNN
F 1 "D" H 1150 1425 50  0000 C CNN
F 2 "" H 1150 1300 50  0001 C CNN
F 3 "~" H 1150 1300 50  0001 C CNN
	1    1150 1300
	-1   0    0    1   
$EndComp
$Comp
L Device:D D?
U 1 1 5FCDFA4C
P 1500 1300
F 0 "D?" H 1500 1516 50  0000 C CNN
F 1 "D" H 1500 1425 50  0000 C CNN
F 2 "" H 1500 1300 50  0001 C CNN
F 3 "~" H 1500 1300 50  0001 C CNN
	1    1500 1300
	-1   0    0    1   
$EndComp
Wire Wire Line
	1300 1300 1350 1300
Wire Wire Line
	750  1300 1000 1300
$Comp
L Device:D D?
U 1 1 5FCF0556
P 1850 1300
F 0 "D?" H 1850 1516 50  0000 C CNN
F 1 "D" H 1850 1425 50  0000 C CNN
F 2 "" H 1850 1300 50  0001 C CNN
F 3 "~" H 1850 1300 50  0001 C CNN
	1    1850 1300
	-1   0    0    1   
$EndComp
Wire Wire Line
	1700 1300 1650 1300
Wire Wire Line
	2000 1300 2600 1300
Connection ~ 2600 1300
Text Notes 2000 1250 0    50   ~ 0
around 10V\n
Text Notes 4900 3250 0    50   ~ 0
X\n
Text Notes 4900 3900 0    50   ~ 0
0.0625 X resistor\n
Text Notes 7350 5800 0    50   ~ 0
18.3K
$EndSCHEMATC
